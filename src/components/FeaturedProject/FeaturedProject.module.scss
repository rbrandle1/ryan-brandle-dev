@use '@/styles/utils/typography';
@use '@/styles/utils/viewport';
@use '@/styles/utils/element';

@use 'sass:math';

.component {
	--transition-duration-base: var(--duration-xl);
	--transition-duration: calc(var(--transition-duration-base) - var(--transition-delay));
	--transition-distance: var(--space-md);
	--transition-delay: var(--duration-sm);
	--transition-ease: ease-in-out;

	position: relative;
	display: grid;
	grid-template-columns: 1fr;
	gap: var(--space-base);

	@include viewport.breakpoint(sm) {
		grid-template-columns: 1fr 1fr;
		gap: var(--space-lg);
	}

	@include viewport.breakpoint(lg) {
		gap: var(--space-2xl);
	}
}

.imageContainer,
.textContainer {
	transform: translateY(var(--transition-distance));
	opacity: 0;
	will-change: opacity, transform;
	transition: opacity var(--transition-duration) var(--transition-ease),
		transform var(--transition-duration) var(--transition-ease);

	.fadeInUp & {
		opacity: 1;
		transform: translateY(0);
	}
}

.imageContainer {
	position: relative;

	@include viewport.breakpoint(sm) {
		margin-top: var(--space-2xl);
		transition-delay: var(--transition-delay);

		.imgRight & {
			order: 2;
		}
	}

	figcaption {
		@include typography.caption;
		margin-top: var(--space-sm);
	}
}

.textContainer {
	--flow-space: var(--space-lg);
	--transition-distance: var(--space-lg);
	--transition-duration: var(--transition-duration-base);

	> * + * {
		margin-top: var(--flow-space);
	}
}

.cropIconContainer {
	position: absolute;
	width: var(--text-lg);

	&:not(.imgRight &) {
		left: calc(var(--space-lg) / -1);
	}

	.imgRight & {
		right: calc(var(--space-lg) / -1);
	}

	svg {
		fill: currentColor;
		opacity: 0.1;
	}
}

.image {
	position: relative;
	display: grid;
	place-items: center;
	padding-left: var(--space-xl);
	padding-right: var(--space-xl);
	user-select: none;
	aspect-ratio: 3 / 2;

	@include viewport.breakpoint(sm) {
		aspect-ratio: 2 / 3;
	}

	img {
		object-fit: cover;
		border-radius: var(--radius-default);
	}
}

.logoContainer {
	width: 100%;
	max-width: 338px;
	z-index: 1;

	svg {
		fill: var(--icon-over-image);
	}
}

.title {
	@include typography.headline;
	margin-bottom: var(--space-sm);
	max-width: 17ch;
}

.description {
	max-width: 50ch;
}

.button {
	display: inline-block;
}
