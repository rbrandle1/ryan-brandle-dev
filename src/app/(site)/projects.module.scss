@use '@/styles/utils/typography';
@use '@/styles/utils/layout';
@use '@/styles/utils/viewport';
@use '@/styles/utils/element';

// TODO: Make containerGrid a mixin like max-width and apply to other home.

.section {
	background-color: var(--surface-primary);
	padding-top: var(--space-8xl);
	padding-bottom: var(--space-8xl);
}

.containerGrid {
	--flow-space-base: 1lh;

	--gutter: clamp(var(--space-base), 4dvw, var(--space-lg));
	--full: minmax(var(--gutter), 1fr);
	--content: min(var(--viewport-md), 100% - var(--gutter) * 2);
	--breakout: minmax(0, var(--space-3xl));

	display: grid;
	grid-template-columns:
		[full-start] var(--full)
		[breakout-start] var(--breakout)
		[content-start] var(--content) [content-end]
		var(--breakout) [breakout-end]
		var(--full) [full-end];

	> * {
		grid-column: content;
	}

	.breakout {
		grid-column: breakout;
	}

	.full {
		grid-column: full;
	}

	> * + * {
		margin-block-start: var(--flow-space, var(--flow-space-base));
	}
}

.callout,
.imageContainer {
	&:not(:last-child) {
		margin-block-end: calc(var(--flow-space) - var(--flow-space-base));
	}
}

.callout {
	--flow-space: 4lh;
}

.imageContainer {
	--flow-space: 2lh;
	position: relative;

	figcaption {
		@include typography.caption;
		margin-top: var(--space-sm);
	}
}

.image {
	position: relative;
	display: grid;
	place-items: center;
	padding-left: var(--space-xl);
	padding-right: var(--space-xl);
	border-radius: var(--radius-default);
	aspect-ratio: 3 / 2;
	overflow: hidden;
	user-select: none;

	img {
		position: absolute;
		object-fit: cover;
	}
}

.h1,
.h2,
.h3 {
	@include typography.optimalHeadlineLength;
}

.h1 {
	@include typography.headline(3xl);
}

.subhead {
	@include typography.optimalTextLength;
	@include typography.p(lg);
	color: var(--text-tertiary);
	font-weight: var(--font-weight-semiBold);
}

.h2 {
	@include typography.headline(2xl);
}

.h3 {
	@include typography.headline(xl);
}

.p {
	@include typography.p;
	@include typography.optimalTextLength;
}

.altFont {
	font-family: var(--font-alt);
	font-weight: var(--font-weight-black);
}

.link {
	@include typography.link(underline);
}

.accentEdge {
	@include element.accent-edge;
}
